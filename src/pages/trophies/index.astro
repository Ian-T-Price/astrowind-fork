---
import Layout from '~/layouts/PageLayout.astro';
import Features from '~/components/widgets/Features.astro';
import trophies from '~/data/trophies.json';

const metadata = {
  title: 'Dundonald Farmers Society 2025 Open Show',
  ignoreTitleTemplate: true,
};

// Group trophies alphabetically
const trophyGroups: { label: string; items: typeof trophies }[] = [
  { label: 'A–I', items: [] },
  { label: 'J–R', items: [] },
  { label: 'S–Z', items: [] },
];

for (const trophy of trophies) {
  const firstLetter = trophy.title.charAt(0).toUpperCase();

  if (firstLetter >= 'A' && firstLetter <= 'I') {
    trophyGroups[0].items.push(trophy);
  } else if (firstLetter >= 'J' && firstLetter <= 'R') {
    trophyGroups[1].items.push(trophy);
  } else if (firstLetter >= 'S' && firstLetter <= 'Z') {
    trophyGroups[2].items.push(trophy);
  }
}
---

<Layout metadata={metadata}>
  {trophyGroups.map(group => (
    group.items.length > 0 && (
      <>
        {/* <h2 class="text-2xl font-bold mb-4">{group.label}</h2> */}
        <Features
          id={group.label.toLowerCase().replace(/\W/g, '')}
          tagline="Previous trophies"
          title={`Trophies ${group.label}`}
          subtitle=""
          items={group.items}
        />
      </>
    )
  ))}

  <Fragment slot="bg">
    <div class="absolute inset-0 bg-blue-50 dark:bg-transparent" />
  </Fragment>
</Layout>

<!-- ---
import Layout from '~/layouts/PageLayout.astro';

import Features from '~/components/widgets/Features.astro';

const metadata = {
  title: 'Dundonald Farmers Society 2025 Open Show',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata}>
  <!-- Features Widget *************** --

  <Features
    id="trophies"
    tagline="Trophies & Winners"
    title="Awards to be competed for"
    subtitle="DUNDONALD FARMERS' SOCIETY greatly appreciate the trophies and awards presented by many of our patrons."
    items={}
  />

  <Fragment slot="bg">
    <div class="absolute inset-0 bg-blue-50 dark:bg-transparent"></div>
  </Fragment>
</Layout> -->
